<section class="section-title">
    <h3>User List</h3>
</section>
<section class="section-content">
    <button class="btn" routerLink="add">Add a user</button>

    @if (users().length) {
    <table>
        <tr>
            @for (header of tableHeaders; track header.id) {
            @let selected = sortedColumn() === header.id;
            <th (click)="sortUsers(header.id)" class="clickable-table-heading">
                {{ header.title }} {{selected ? (sortAscending() ? '↓' : '↑') : ''}}
            </th>
            }
            <th>Actions</th>
        </tr>
        @for (user of sortedUsers(); track user.email) {
        <tr>
            <td>{{ user.userType }}</td>
            <td>{{ user.lastName }}</td>
            <td>{{ user.firstName }}</td>
            <td>{{ user.email }}</td>
            <td>
                <a [routerLink]='[user.id]' class="view-button">View Profile</a>
                <a [routerLink]='["edit", user.id]' class="edit-button">Edit</a>
                <a (click)="removeUser(user.id!)" class="remove-button">Remove</a>
            </td>
        </tr>
        }
    </table>
    } @else {
    <div>
        No users found.
    </div>
    }

</section>